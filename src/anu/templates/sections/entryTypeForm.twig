{% extends 'layout/site.twig' %}
{% import "_includes/forms.twig" as forms %}


{% set fullPageForm = true %}
{% set controller = 'entryTypeController' %}
{% set title = "EntryTypes" %}
{% block headerButton %}
    <a href="" ng-click="save();" class="btn waves-effect waves-light red lighten-2">{{ "Save EntryType"|t }}</a>
{% endblock %}


{% block pageContent %}
    {% set attributes = anu.getTemplate().addAnuJsObject(entryType, 'entryType') %}
    <div class="card">
        <div class="header">
            <h2>
                {% if entryType.getIsNew() %}
                    {{ "New EntryType"|t }}
                {% else %}
                    {{ "Edit EntryType"|t }}
                {% endif %}
            </h2>
            <ul class="header-dropdown m-r--5">
                <li class="dropdown">
                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">more_vert</i>
                    </a>
                    <ul class="dropdown-menu pull-right">
                        <li><a href="javascript:void(0);" class=" waves-effect waves-block">Action</a></li>
                        <li><a href="javascript:void(0);" class=" waves-effect waves-block">Another action</a></li>
                        <li><a href="javascript:void(0);" class=" waves-effect waves-block">Something else here</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="body">

            <div class="row">
                <div class="col s12">
                    <ul class="tabs">
                        <li class="tab col s3"><a class="active" href="#options">{{ "Optionen"|t }}</a></li>
                        <li class="tab col s3"><a href="#fieldLayout">{{ "Field Layout"|t }}</a></li>
                    </ul>
                </div>
                <div id="options" class="col s12">

                    {{ forms.textField({
                        id: "name",
                        name: "name",
                        required: true,
                        value: entryType.name,
                        label: 'Name'|t,
                        model: 'attributes.name'
                    }) }}

                    {{ forms.textField({
                        id: "handle",
                        name: "handle",
                        required: true,
                        value: entryType.handle,
                        label: 'Handle'|t,
                        model: 'attributes.handle'
                    }) }}
                </div>

                <field-layout-designer field-layout="fieldLayout" groups="groups"></field-layout-designer>
                {% include '_includes/fieldLayoutDesigner.twig' %}

            </div>
        </div>
    </div>

    {#{{ forms.textField({
        id: "loginName",
        name: "username",
        placeholder: "test",
        value: "test"
    }) }}#}


{% endblock %}